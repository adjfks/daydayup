@[TOC](ğŸš…ã€leetcodeã€‘538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7bd3cd5ef8154d7da99e5cd9badf12f4.png#pic_center)

# ğŸš€é¢˜ç›®
[leetcodeåŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/convert-bst-to-greater-tree/)
>ç»™å‡ºäºŒå‰ æœç´¢ æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¯¥æ ‘çš„èŠ‚ç‚¹å€¼å„ä¸ç›¸åŒï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºç´¯åŠ æ ‘ï¼ˆGreater Sum Treeï¼‰ï¼Œä½¿æ¯ä¸ªèŠ‚ç‚¹ node çš„æ–°å€¼ç­‰äºåŸæ ‘ä¸­å¤§äºæˆ–ç­‰äº node.val çš„å€¼ä¹‹å’Œã€‚

>æé†’ä¸€ä¸‹ï¼ŒäºŒå‰æœç´¢æ ‘æ»¡è¶³ä¸‹åˆ—çº¦æŸæ¡ä»¶ï¼š
>èŠ‚ç‚¹çš„å·¦å­æ ‘ä»…åŒ…å«é”® å°äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
>èŠ‚ç‚¹çš„å³å­æ ‘ä»…åŒ…å«é”® å¤§äº èŠ‚ç‚¹é”®çš„èŠ‚ç‚¹ã€‚
>å·¦å³å­æ ‘ä¹Ÿå¿…é¡»æ˜¯äºŒå‰æœç´¢æ ‘ã€‚

 

>ç¤ºä¾‹ 1ï¼š
>![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/e53e2159290c474e964b1f3e8c7ae5b1.png)
>è¾“å…¥ï¼š[4,1,6,0,2,5,7,null,null,null,3,null,null,null,8]
>è¾“å‡ºï¼š[30,36,21,36,35,26,15,null,null,null,33,null,null,null,8]

>ç¤ºä¾‹ 2ï¼š
>è¾“å…¥ï¼šroot = [0,null,1]
>è¾“å‡ºï¼š[1,null,1]

>ç¤ºä¾‹ 3ï¼š
>è¾“å…¥ï¼šroot = [1,0,2]
>è¾“å‡ºï¼š[3,3,2]

>ç¤ºä¾‹ 4ï¼š
>è¾“å…¥ï¼šroot = [3,2,4,1]
>è¾“å‡ºï¼š[7,9,4,10]


>æç¤ºï¼š
>æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ä»‹äº 0 å’Œ 104 ä¹‹é—´ã€‚
>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ä»‹äº -104 å’Œ 104 ä¹‹é—´ã€‚
>æ ‘ä¸­çš„æ‰€æœ‰å€¼ äº’ä¸ç›¸åŒ ã€‚
>ç»™å®šçš„æ ‘ä¸ºäºŒå‰æœç´¢æ ‘ã€‚



# ğŸ’¥leetcodeä»£ç æ¨¡æ¿

```javascript
/**
 * Definition for a binary tree node.
 * function TreeNode(val, left, right) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.left = (left===undefined ? null : left)
 *     this.right = (right===undefined ? null : right)
 * }
 */
/**
 * @param {TreeNode} root
 * @return {TreeNode}
 */
var convertBST = function(root) {

};
```

# ğŸš€æ€è·¯
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/470f6b9e77f74bc390c692ed5c64bdeb.gif#pic_center)
## ğŸ²æ–¹æ³•ä¸€ï¼šé€’å½’
ğŸŸ¡é¦–å…ˆæ¥çœ‹ä¸€ä¸‹äºŒå‰æ ‘æ˜¯å¦‚ä½•ç´¯åŠ çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ˜¯æŒ‰ç…§å³ä¸­å·¦çš„é¡ºåºç´¯åŠ æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨é€’å½’æ¥è¿›è¡Œ**â€œå³ä¸­å·¦â€**é¡ºåºçš„éå†ã€‚
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://gitee.com/PencilX/myblogassets/raw/master/src/5e8c89260c0a4c70a8c8cb5344c2bcbf.png)

<br>

ğŸŸ¢OK,éå†çš„æ–¹å¼å·²ç»è§£å†³äº†ï¼Œé‚£ä¹ˆå¦‚ä½•æ¥ä¿®æ”¹èŠ‚ç‚¹çš„å€¼å’Œå­˜å‚¨ç´¯åŠ å’Œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€çš„å˜é‡`sum = 0`ï¼Œé‡åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶å°±æ›´æ–°`sum`å³`sum += node.val`ï¼Œç„¶åä¿®æ”¹èŠ‚ç‚¹çš„å€¼`node.val = sum`

<br>


ğŸ”´é€’å½’ä¸‰éƒ¨æ›²ï¼š
1ï¸âƒ£é€’å½’å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ï¼šå‚æ•°å°±æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹ï¼Œä¸éœ€è¦è¿”å›å€¼ï¼Œåªéœ€è¦åœ¨éå†çš„è¿‡ç¨‹ä¸­ä¿®æ”¹èŠ‚ç‚¹å€¼ã€‚

<br>

2ï¸âƒ£é€’å½’çš„è¿”å›æ¡ä»¶æ˜¯ï¼šé‡åˆ°ç©ºèŠ‚ç‚¹æ—¶ä»€ä¹ˆä¹Ÿä¸åšï¼Œç›´æ¥è¿”å›ã€‚

<br>

3ï¸âƒ£å•å±‚é€’å½’çš„é€»è¾‘ï¼šæŒ‰ç…§**å³ä¸­å·¦**çš„é¡ºåºè¿›è¡Œé€’å½’ï¼Œå³

```javascript
traverse(node.right)
//å¤„ç†ä¸­é—´èŠ‚ç‚¹
...
traverse(node.left)
```

å¯¹äºä¸­é—´èŠ‚ç‚¹ï¼ˆå³å½“å‰èŠ‚ç‚¹ï¼‰ï¼Œé¦–å…ˆæ›´æ–°`sum`å³`sum += node.val`ï¼Œç„¶åæ›´æ–°èŠ‚ç‚¹å€¼`node.val = sum`


## ğŸ²æ–¹æ³•äºŒï¼šè¿­ä»£
æŠŠä¸Šé¢é€’å½’æ”¹ä¸ºè¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨äºŒå‰æ ‘è¿­ä»£éå†çš„ç»Ÿä¸€æ¨¡æ¿[ã€leetcodeã€‘äºŒå‰æ ‘éå†è¿­ä»£æ³•çš„ç»Ÿä¸€æ¨¡æ¿](https://blog.csdn.net/laplacepoisson/article/details/124339109)ã€‚
<br>
# ğŸ’»ä»£ç 
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/50b64835a43344369939c44437475cc5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5YmN56uvY29ybmVy,size_8,color_FFFFFF,t_70,g_se,x_16#pic_center)

## ğŸ²æ–¹æ³•ä¸€ï¼šé€’å½’
```js
var convertBST = function(root) {
    function traverse(node){
        if(!node) return 
        traverse(node.right)
        sum += node.val
        node.val = sum
        traverse(node.left)
    }

    let sum = 0
    traverse(root)
    return root
};
```

## æ–¹æ³•äºŒï¼šè¿­ä»£

```javascript
var convertBST = function(root) {
    let sum = 0
    let stack = []
    if(root) stack.push(root)
    while(stack.length){
        // å½“å‰æŒ‡é’ˆæŒ‡å‘æ ˆé¡¶èŠ‚ç‚¹
        let cur = stack[stack.length - 1]

        if(cur){    // å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©º
            stack.pop()
            if(cur.left) stack.push(cur.left)
            stack.push(cur)
            stack.push(null)
            if(cur.right) stack.push(cur.right)
        }else{  //å½“å‰èŠ‚ç‚¹ä¸ºç©º
            // å¼¹å‡ºç©ºèŠ‚ç‚¹
            stack.pop()
            // å¼¹å‡ºä¸­é—´èŠ‚ç‚¹
            let node = stack.pop()
            sum += node.val
            node.val = sum
        }
    }
    return root
};
```

# ğŸªæ€»ç»“
è¿™é“é¢˜ç›®ä¸éš¾ï¼Œé€šè¿‡è§‚å¯Ÿç´¯åŠ çš„é¡ºåºå‘ç°æ˜¯è¦ç”¨å³å·¦ä¸­çš„é¡ºåºè¿›è¡Œéå†ï¼Œéå†è¿‡ç¨‹ä¸­å€ŸåŠ©ä¸€ä¸ªå˜é‡æ¥ç´¯åŠ å’Œæ›´æ–°èŠ‚ç‚¹å€¼å°±å¥½ã€‚

<br/>

> âœ¨$\textcolor{green}{æˆ‘æ˜¯conerï¼Œè¯·åˆ«å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œæœ¬ç³»åˆ—æ–‡ç« ä¸ºä¸ªäººåˆ·é¢˜è®°å½•ï¼ˆå·å·è‡ªå·±å·ğŸ¤¤ï¼‰ï¼š}$[leetcodeé¢˜è§£js](https://blog.csdn.net/laplacepoisson/category_11759331.html?spm=1001.2014.3001.5482)<br/>
> âœ¨$\textcolor{green}{æ¯å¤©æ—©ä¸Šæ›´æ–°3é“leetcodeé¢˜ç›®çš„jsé¢˜è§£ğŸš€ğŸš€ğŸš€}$<br/>