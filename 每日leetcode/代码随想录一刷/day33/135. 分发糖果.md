@[TOC](ğŸš…ã€leetcodeã€‘135. åˆ†å‘ç³–æœ)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7bd3cd5ef8154d7da99e5cd9badf12f4.png#pic_center)

# ğŸš€é¢˜ç›®
[leetcodeåŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/candy/)
> n ä¸ªå­©å­ç«™æˆä¸€æ’ã€‚ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ ratings è¡¨ç¤ºæ¯ä¸ªå­©å­çš„è¯„åˆ†ã€‚
> ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š
> æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚
> ç›¸é‚»ä¸¤ä¸ªå­©å­è¯„åˆ†æ›´é«˜çš„å­©å­ä¼šè·å¾—æ›´å¤šçš„ç³–æœã€‚
> è¯·ä½ ç»™æ¯ä¸ªå­©å­åˆ†å‘ç³–æœï¼Œè®¡ç®—å¹¶è¿”å›éœ€è¦å‡†å¤‡çš„ æœ€å°‘ç³–æœæ•°ç›® ã€‚

 

>ç¤ºä¾‹ 1ï¼š
>è¾“å…¥ï¼šratings = [1,0,2]
>è¾“å‡ºï¼š5
>è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚

>ç¤ºä¾‹ 2ï¼š
>è¾“å…¥ï¼šratings = [1,2,2]
>è¾“å‡ºï¼š4
>è§£é‡Šï¼šä½ å¯ä»¥åˆ†åˆ«ç»™ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
>ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™æ»¡è¶³é¢˜é¢ä¸­çš„ä¸¤ä¸ªæ¡ä»¶ã€‚


>æç¤ºï¼š
>n == ratings.length
>1 <= n <= 2 * 104
>0 <= ratings[i] <= 2 * 104

# ğŸ’¥leetcodeä»£ç æ¨¡æ¿

```javascript
/**
 * @param {number[]} ratings
 * @return {number}
 */
var candy = function(ratings) {
    
};
```

# ğŸš€æ€è·¯
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/470f6b9e77f74bc390c692ed5c64bdeb.gif#pic_center)
ğŸŸ£ç›¸é‚»çš„ä¸¤ä¸ªå­©å­ï¼Œè¯„åˆ†é«˜çš„è·å¾—çš„ç³–æœæ•°é‡æ›´å¤šã€‚è¿™é‡Œå¯ä»¥åˆ†æˆä¸¤ç§æƒ…å†µï¼š
- å³è¾¹è¯„åˆ†å¤§äºå·¦è¾¹è¯„åˆ†
- å·¦è¾¹è¯„åˆ†å¤§äºå³è¾¹è¯„åˆ†

ğŸŸ¢ä¸Šé¢ä¸¤ç§æƒ…å†µæˆ‘ä»¬åˆ†æˆä¸¤æ¬¡å»æ»¡è¶³ã€‚å› ä¸ºæ¯ä¸ªå­©å­æœ€å°‘åˆ†å¾—1ä¸ªç³–æœï¼Œåˆå§‹åŒ–ç³–æœæ•°ç»„`candies`çš„æ¯ä¸€é¡¹ä¸º1ï¼Œæ¯ä¸€é¡¹è¡¨ç¤ºå¯¹åº”ä¸‹æ ‡å­©å­åˆ†å¾—çš„æœ€å°‘ç³–æœæ•°é‡ã€‚
- é¦–å…ˆæ˜¯å³è¾¹è¯„åˆ†å¤§äºå·¦è¾¹ï¼Œæˆ‘ä»¬ä»å‰å‘åéå†æ•°ç»„ï¼Œå¦‚æœå‘ç°`ratings[i] > ratings[i-1]`é‚£ä¹ˆå½“å‰å­©å­å°±åº”è¯¥æ¯”å‰ä¸€ä¸ªå­©å­å¤šä¸€é¢—ç³–æœï¼Œå³`candies[i] = candies[i-1] + 1`ã€‚
- å·¦è¾¹è¯„åˆ†å¤§äºå³è¾¹çš„æƒ…å†µï¼Œæˆ‘ä»¬ä»åå‘å‰éå†æ•°ç»„ï¼Œå¦‚æœå‘ç°`ratings[i] > ratings[i+1]`ï¼Œé‚£ä¹ˆå½“å‰å­©å­å°±åº”è¯¥æ¯”å³è¾¹å­©å­å¤šä¸€é¢—ç³–æœï¼Œå³`condies[i] = candies[i+1] + 1`ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡å¾ªç¯æ—¶å·²ç»ç»™candies[i]èµ‹å€¼è¿‡ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”å½“é€‰æ‹©ä¸¤è€…ä¸­å¤§çš„é‚£ä¸€ä¸ªï¼Œæ‰èƒ½åŒæ—¶æ»¡è¶³ä¸¤ç§æƒ…å†µï¼Œæ‰€ä»¥`candies[i] = Math.max(candies[i] , candies[i+1] + 1)`

# ğŸ’»ä»£ç 
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/50b64835a43344369939c44437475cc5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5YmN56uvY29ybmVy,size_8,color_FFFFFF,t_70,g_se,x_16#pic_center)


```js
var candy = function(ratings) {
    let candies = (new Array(ratings.length)).fill(1)

    // ä»å‰å‘åéå†æ•°ç»„
    for(let i = 1 ; i < ratings.length ; i++){
        if(ratings[i] > ratings[i-1]) candies[i] = candies[i-1] + 1
    }

    // ä»åå‘å‰éå†æ•°ç»„
    for(let i = ratings.length - 2 ; i >= 0 ; i--){
        if(ratings[i] > ratings[i+1]) candies[i] = Math.max(candies[i] , candies[i+1] + 1)
    }

    return candies.reduce((pre , cur) => pre + cur , 0)
};
```



<br/>

> âœ¨$\textcolor{green}{æˆ‘æ˜¯conerï¼Œè¯·åˆ«å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œæœ¬ç³»åˆ—æ–‡ç« ä¸ºä¸ªäººåˆ·é¢˜è®°å½•ï¼ˆå·å·è‡ªå·±å·ğŸ¤¤ï¼‰ï¼š}$[leetcodeé¢˜è§£js](https://blog.csdn.net/laplacepoisson/category_11759331.html?spm=1001.2014.3001.5482)<br/>
> âœ¨$\textcolor{green}{æ¯å¤©æ—©ä¸Šæ›´æ–°3é“leetcodeé¢˜ç›®çš„jsé¢˜è§£ğŸš€ğŸš€ğŸš€}$<br/>