@[TOC](ğŸš…ã€leetcodeã€‘134. åŠ æ²¹ç«™)
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/7bd3cd5ef8154d7da99e5cd9badf12f4.png#pic_center)

# ğŸš€é¢˜ç›®
[leetcodeåŸé¢˜é“¾æ¥](https://leetcode-cn.com/problems/gas-station/)
> åœ¨ä¸€æ¡ç¯è·¯ä¸Šæœ‰ n ä¸ªåŠ æ²¹ç«™ï¼Œå…¶ä¸­ç¬¬ i ä¸ªåŠ æ²¹ç«™æœ‰æ±½æ²¹ gas[i] å‡ã€‚
> ä½ æœ‰ä¸€è¾†æ²¹ç®±å®¹é‡æ— é™çš„çš„æ±½è½¦ï¼Œä»ç¬¬ i ä¸ªåŠ æ²¹ç«™å¼€å¾€ç¬¬ i+1 ä¸ªåŠ æ²¹ç«™éœ€è¦æ¶ˆè€—æ±½æ²¹ cost[i] å‡ã€‚ä½ ä»å…¶ä¸­çš„ä¸€ä¸ªåŠ æ²¹ç«™å‡ºå‘ï¼Œå¼€å§‹æ—¶æ²¹ç®±ä¸ºç©ºã€‚
> ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ gas å’Œ cost ï¼Œå¦‚æœä½ å¯ä»¥ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ï¼Œåˆ™è¿”å›å‡ºå‘æ—¶åŠ æ²¹ç«™çš„ç¼–å·ï¼Œå¦åˆ™è¿”å› -1 ã€‚å¦‚æœå­˜åœ¨è§£ï¼Œåˆ™ ä¿è¯ å®ƒæ˜¯ å”¯ä¸€ çš„ã€‚

 

>ç¤ºä¾‹ 1:
>è¾“å…¥: gas = [1,2,3,4,5], cost = [3,4,5,1,2]
>è¾“å‡º: 3
><br>
>è§£é‡Š:
>ä» 3 å·åŠ æ²¹ç«™(ç´¢å¼•ä¸º 3 å¤„)å‡ºå‘ï¼Œå¯è·å¾— 4 å‡æ±½æ²¹ã€‚æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹
>å¼€å¾€ 4 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 1 + 5 = 8 å‡æ±½æ²¹
>å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 8 - 2 + 1 = 7 å‡æ±½æ²¹
>å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 7 - 3 + 2 = 6 å‡æ±½æ²¹
>å¼€å¾€ 2 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 6 - 4 + 3 = 5 å‡æ±½æ²¹
>å¼€å¾€ 3 å·åŠ æ²¹ç«™ï¼Œä½ éœ€è¦æ¶ˆè€— 5 å‡æ±½æ²¹ï¼Œæ­£å¥½è¶³å¤Ÿä½ è¿”å›åˆ° 3 å·åŠ æ²¹ç«™ã€‚
>å› æ­¤ï¼Œ3 å¯ä¸ºèµ·å§‹ç´¢å¼•ã€‚

>ç¤ºä¾‹ 2:
>è¾“å…¥: gas = [2,3,4], cost = [3,4,3]
>è¾“å‡º: -1
><br>
>è§£é‡Š:
>ä½ ä¸èƒ½ä» 0 å·æˆ– 1 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå› ä¸ºæ²¡æœ‰è¶³å¤Ÿçš„æ±½æ²¹å¯ä»¥è®©ä½ è¡Œé©¶åˆ°ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ã€‚
>æˆ‘ä»¬ä» 2 å·åŠ æ²¹ç«™å‡ºå‘ï¼Œå¯ä»¥è·å¾— 4 å‡æ±½æ²¹ã€‚ æ­¤æ—¶æ²¹ç®±æœ‰ = 0 + 4 = 4 å‡æ±½æ²¹
>å¼€å¾€ 0 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 4 - 3 + 2 = 3 å‡æ±½æ²¹
>å¼€å¾€ 1 å·åŠ æ²¹ç«™ï¼Œæ­¤æ—¶æ²¹ç®±æœ‰ 3 - 3 + 3 = 3 å‡æ±½æ²¹
>ä½ æ— æ³•è¿”å› 2 å·åŠ æ²¹ç«™ï¼Œå› ä¸ºè¿”ç¨‹éœ€è¦æ¶ˆè€— 4 å‡æ±½æ²¹ï¼Œä½†æ˜¯ä½ çš„æ²¹ç®±åªæœ‰ 3 å‡æ±½æ²¹ã€‚
>å› æ­¤ï¼Œæ— è®ºæ€æ ·ï¼Œä½ éƒ½ä¸å¯èƒ½ç»•ç¯è·¯è¡Œé©¶ä¸€å‘¨ã€‚


>æç¤º:
>gas.length == n
>cost.length == n
>1 <= n <= $10^5$
>0 <= gas[i], cost[i] <= $10^4$


# ğŸ’¥leetcodeä»£ç æ¨¡æ¿

```javascript
/**
 * @param {number[]} gas
 * @param {number[]} cost
 * @return {number}
 */
var canCompleteCircuit = function(gas, cost) {

};
```

# ğŸš€æ€è·¯
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/470f6b9e77f74bc390c692ed5c64bdeb.gif#pic_center)
## æ–¹æ³•ä¸€ï¼šæš´åŠ›
ğŸŸ¡æš´åŠ›çš„è§£æ³•å°±æ˜¯éå†æ‰€æœ‰çš„åŠ æ²¹ç«™ï¼Œä»¥æ¯ä¸€ä¸ªåŠ æ²¹ç«™ä½œä¸ºèµ·ç‚¹ï¼Œæ¨¡æ‹Ÿä¸€åœˆã€‚å¦‚æœèµ°äº†ä¸€åœˆåˆ°è¾¾äº†èµ·ç‚¹ä¸”ä¸­é€”æ²¹é‡å¤Ÿç”¨é‚£ä¹ˆå°±è¿”å›è¯¥èµ·ç‚¹çš„ç´¢å¼•ï¼Œå…¨éƒ¨éå†å®Œéƒ½æ²¡æ‰¾åˆ°å°±è¿”å›-1ã€‚
å½“ç„¶ï¼Œæš´åŠ›çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^2)$ï¼Œæ¯”è¾ƒè€—æ—¶ï¼Œä¸è¿‡ç”¨javascriptä¹Ÿè¿˜èƒ½è¿‡ï¼Œæ²¡æœ‰è¶…æ—¶ã€‚

<br>

## æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†
è¿™é‡Œå‚è€ƒäº†leetcodeå®˜æ–¹çš„é¢˜è§£ï¼Œç”¨æ•°å­¦è¯æ˜æ¥è§£å†³ï¼Œå› ä¸ºæœ‰æ—¶å€™ç›´è§‚ä¸Šå¹¶ä¸å®¹æ˜“å¾—å‡ºæŸäº›ç»“è®ºï¼Œæ‰€ä»¥è¿˜æ˜¯å¾—ç”¨æ•°å­¦è¯æ˜ã€‚

ğŸŸ¡æˆ‘ä»¬å‡è®¾ä»ç´¢å¼•xå‡ºå‘æœ€è¿œèƒ½åˆ°è¾¾yï¼Œå³åˆ°è¾¾ä¸äº†y+1ï¼Œæ‰€ä»¥æ²¹é‡ä¸€å®šä¸å¤Ÿï¼Œå¦‚ä¸‹å¼ï¼š

$\displaystyle\sum_{i=x}^ygas[i] < \displaystyle\sum_{i=x}^ycost[i]$

æ—¢ç„¶ä»xå¯ä»¥åˆ°è¾¾yï¼Œé€”ä¸­å¿…å®šç»è¿‡xå’Œyä¹‹é—´çš„åŠ æ²¹ç«™ï¼Œæ‰€ä»¥ä»xå‡ºå‘ä¸€å®šå¯ä»¥åˆ°è¾¾xå’Œyä¹‹é—´çš„ä»»æ„åŠ æ²¹ç«™zï¼Œç”¨å¼å­è¡¨ç¤ºå¦‚ä¸‹ï¼š
$\displaystyle\sum_{i=x}^zgas[i] >= \displaystyle\sum_{i=x}^zcost[i]$


ğŸ”µç°åœ¨æˆ‘ä»¬æƒ³çŸ¥é“çš„æ˜¯**ä»xå’Œyä¹‹é—´çš„ä»»æ„ç«™ç‚¹zå‡ºå‘èƒ½ä¸èƒ½åˆ°è¾¾yçš„ä¸‹ä¸€ä¸ªåŠ æ²¹ç«™**ï¼Œç›´è§‚ä¸Šæ„Ÿè§‰ä»xéƒ½åˆ°ä¸äº†yçš„ä¸‹ä¸€ä¸ªç«™ç‚¹ï¼Œé‚£ä¹ˆä»xå’Œyä¹‹é—´çš„ç«™ç‚¹å‡ºå‘æ²¹æ›´å°‘ï¼Œåº”è¯¥æ›´åŠ ä¸èƒ½åˆ°è¾¾ã€‚ä½†æ˜¯æˆ‘ä»¬æ— æ³•ç¡®å®šè¿™ä¸ªç»“è®ºï¼Œæ‰€ä»¥è¦è¯æ˜ä¸€ä¸‹.å¦‚æœæˆ‘ä»¬èƒ½è¯æ˜ä¸‹å¼ï¼Œè¯´æ˜ä¸Šè¿°ç»“è®ºæˆç«‹ï¼š
$\displaystyle\sum_{i=z}^ygas[i] < \displaystyle\sum_{i=z}^ycost[i]$

å¦‚æœè¯¥ç»“è®ºæˆç«‹ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦åƒæ–¹æ³•ä¸€æ ·ï¼Œä»¥xå’Œyä¹‹é—´çš„ç«™ç‚¹ä¸ºèµ·ç‚¹æ¥æ¨¡æ‹Ÿä¸€åœˆï¼Œç›´æ¥ä»yçš„ä¸‹ä¸€ä¸ªç«™ç‚¹å»æ¨¡æ‹Ÿå°±å¥½ã€‚
<br>

ğŸŸ¢è¯æ˜å¦‚ä¸‹

$\displaystyle\sum_{i=z}^ygas[i]$ = $\displaystyle\sum_{i=x}^ygas[i]$ - $\displaystyle\sum_{i=x}^{z-1}gas[i]$ 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;< $\displaystyle\sum_{i=x}^ycost[i]$ - $\displaystyle\sum_{i=x}^{z-1}cost[i]$ 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $\displaystyle\sum_{i=z}^ycost[i]$

å¾—è¯ï¼
ğŸŸ£æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹æ–¹æ³•ä¸€ï¼Œå³éå†åŠ æ²¹ç«™ï¼Œé‡åˆ°æ²¹ä¸å¤Ÿçš„æƒ…å†µå°±ç›´æ¥æŠŠä¸‹ä¸€ä¸ªåŠ æ²¹ç«™ä½œä¸ºèµ·ç‚¹éå†ã€‚
# ğŸ’»ä»£ç 
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/50b64835a43344369939c44437475cc5.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5YmN56uvY29ybmVy,size_8,color_FFFFFF,t_70,g_se,x_16#pic_center)
## æ–¹æ³•ä¸€ï¼šæš´åŠ›

```js
var canCompleteCircuit = function(gas, cost) {
    for(let i = 0 ; i < gas.length ; i++){  // ä»ç´¢å¼•iå‡ºå‘
        let rest = gas[i] - cost[i] //è®°å½•å‰©ä½™æ²¹é‡
        let index = (i + 1) % gas.length    // å¾€å‰èµ°ä¸€ç«™
        while(rest > 0 && index !== i){ // åªè¦è¿˜æœ‰æ²¹ä¸”æ²¡å›åˆ°èµ·ç‚¹
            rest += gas[index] - cost[index]
            index = (index + 1) % gas.length
        }  
        if(rest >= 0 && index === i) return i
    }
    return -1
};
```

## æ–¹æ³•äºŒï¼šä¸€æ¬¡éå†

```javascript
var canCompleteCircuit = function(gas, cost) {
    const n = gas.length;
    let i = 0;
    while (i < n) {
        let sumOfGas = 0, sumOfCost = 0;
        let cnt = 0;
        while (cnt < n) {
            const j = (i + cnt) % n;
            sumOfGas += gas[j];
            sumOfCost += cost[j];
            if (sumOfCost > sumOfGas) {
                break;
            }
            cnt++;
        }
        if (cnt === n) {
            return i;
        } else {
            i = i + cnt + 1;
        }
    }
    return -1;
};
```



> âœ¨$\textcolor{green}{æˆ‘æ˜¯conerï¼Œè¯·åˆ«å…³æ³¨æˆ‘çš„ä¸“æ ï¼Œæœ¬ç³»åˆ—æ–‡ç« ä¸ºä¸ªäººåˆ·é¢˜è®°å½•ï¼ˆå·å·è‡ªå·±å·ğŸ¤¤ï¼‰ï¼š}$[leetcodeé¢˜è§£js](https://blog.csdn.net/laplacepoisson/category_11759331.html?spm=1001.2014.3001.5482)<br/>
> âœ¨$\textcolor{green}{æ¯å¤©æ—©ä¸Šæ›´æ–°3é“leetcodeé¢˜ç›®çš„jsé¢˜è§£ğŸš€ğŸš€ğŸš€}$<br/>